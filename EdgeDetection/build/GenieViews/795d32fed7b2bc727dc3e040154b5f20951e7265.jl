# Genie_10615876765955618755 

function func_d7e6160b1b5c93849bf6a74364c067a9b2bdf0bf(
    context = Genie.Renderer.vars(:context),
)::String

    """
              const watcherMixin = {\n  methods: {\n    \$withoutWatchers: function (cb, filter) {\n      let ww = (filter === null) ? this._watchers : [];\n\n      if (typeof(filter) == \"string\") {\n        this._watchers.forEach((w) => { if (w.expression == filter) {ww.push(w)} } )\n      } else { // if it is a true regex\n        this._watchers.forEach((w) => { if (w.expression.match(filter)) {ww.push(w)} } )\n      }\n\n      const watchers = ww.map((watcher) => ({ cb: watcher.cb, sync: watcher.sync }));\n\n      for (let index in ww) {\n        ww[index].cb = () => null;\n        ww[index].sync = true;\n      }\n\n      cb();\n\n      for (let index in ww) {\n        ww[index].cb = watchers[index].cb;\n        ww[index].sync = watchers[index].sync;\n      }\n\n    },\n\n    updateField: function (field, newVal) {\n      try {\n        this.\$withoutWatchers(()=>{this[field]=newVal},\"function(){return this.\" + field + \"}\");\n      } catch(ex) {\n        console.log(ex);\n      }\n    }\n  }\n}\nconst reviveMixin = {\n  methods: {\n    revive_payload: function(obj) {\n      if (typeof obj === 'object') {\n        for (var key in obj) {\n          if ( (typeof obj[key] === 'object') && (obj[key]!=null) && !(obj[key].jsfunction) ) {\n            this.revive_payload(obj[key])\n          } else {\n            if ( (obj[key]!=null) && (obj[key].jsfunction) ) {\n              obj[key] = Function(obj[key].jsfunction.arguments, obj[key].jsfunction.body)\n              if (key=='stipplejs') { obj[key](); }\n            }\n          }\n        }\n      }\n      return obj;\n    }\n  }\n}\n\n    var EdgeDetectionDashboard = new Vue({\"el\":\"#EdgeDetectionDashboard\",\"mixins\":[watcherMixin, reviveMixin],\"data\":{\"newimage\":false,\"imageurl\":\"img/Lenna.png\"}});\n      EdgeDetectionDashboard.\$watch(function(){return this.imageurl}, _.debounce(function(newVal, oldVal){\n    Genie.WebChannels.sendMessageTo(window.Genie.Settings.webchannels_default_route, 'watchers', {'payload': {'field':'imageurl', 'newval': newVal, 'oldval': oldVal}});\n  }, 1), {deep: true});\n\n\n  EdgeDetectionDashboard.\$watch(function(){return this.newimage}, _.debounce(function(newVal, oldVal){\n    Genie.WebChannels.sendMessageTo(window.Genie.Settings.webchannels_default_route, 'watchers', {'payload': {'field':'newimage', 'newval': newVal, 'oldval': oldVal}});\n  }, 1), {deep: true});\n\n\n\nwindow.parse_payload = function(payload){\n  if (payload.key) {\n    window.EdgeDetectionDashboard.revive_payload(payload)\n    window.EdgeDetectionDashboard.updateField(payload.key, payload.value);\n  }\n}\n\nwindow.onload = function() {\n  console.log(\"Loading completed\");\n  EdgeDetectionDashboard.\$forceUpdate();\n}\n
              """
end
